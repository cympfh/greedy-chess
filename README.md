# greedy-chess

## Overview

シンプルな貪欲法によるチェスAI.
途中までの棋譜を標準入力に与えると, 次の一手を標準出力に出力する.

## Algorithm

- min-max による
- n 手先までだけ読む
    - n はコマンドライン引数で指定
- 評価関数は駒の価値の和
    - 駒の価値は以下の通り
        - ポーン: 1
        - ナイト: 3
        - ビショップ: 3
        - ルーク: 5
        - クイーン: 9
        - キング: 999

## Usage

### CLI モード (cargo run)

標準入力から棋譜を受け取り、次の一手を標準出力に出力します。

```bash
$ cargo run <<EOF
e4 e5 Nf3 Nc6 Bb5 a6 Ba4 Nf6 O-O Be7
EOF

Re1
```

#### オプション

- `-d <depth>` または `--depth <depth>`: 探索深さを指定 (デフォルト: 3)
- `-p` または `--print-only`: 次の一手を出力せず、現在の盤面のみを表示

例:
```bash
# 探索深さ5で次の一手を計算
$ echo "e4 e5 Nf3 Nc6" | cargo run -- -d 5

# 盤面のみを表示
$ echo "e4 e5 Nf3 Nc6" | cargo run -- -p
```

### Visualizer モード (streamlit run main.py)

ブラウザ上でチェス盤を表示し、対話的に駒を動かしたり、AI推奨手を確認できます。

```bash
$ streamlit run main.py
```

#### 機能

- **対話的な駒の移動**: チェス盤上のマスをクリックして駒を選択・移動
- **AI推奨手の表示**: 現在の局面から次の最善手をAIが提案
- **探索深さの調整**: スライダーで探索深さ (3-6) を変更可能
- **棋譜の表示**: 移動履歴を確認
- **URL共有**: 棋譜がURLパラメータに保存され、共有可能
